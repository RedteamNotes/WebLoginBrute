# 高级功能

**版本：0.0.27**

本文档介绍WebLoginBrute提供的一些高级功能，帮助你更好地应对复杂的测试场景。

## 智能进度恢复

当你处理一个包含数百万组合的大型字典时，爆破任务可能会因为各种原因（如网络中断、目标重启）而意外终止。WebLoginBrute的进度恢复功能可以让你从上次中断的地方无缝继续，而不会丢失任何进度。

### 如何使用

-   **通过命令行**: 添加 `--resume` 标志。
    ```bash
    python -m webloginbrute --config-file my_task.yaml --resume
    ```
-   **通过YAML文件**: 设置 `resume: true`。
    ```yaml
    # my_task.yaml
    # ... 其他配置 ...
    resume: true
    ```

### 工作原理

-   当任务进行时，程序会定期将已尝试的用户名和密码组合记录到一个进度文件（默认为 `bruteforce_progress.json`）中。
-   使用 `--resume` 标志启动时，程序会首先加载这个文件，并将所有已记录的组合添加到一个跳过列表中。
-   这样，新的任务会直接跳过所有已经尝试过的组合，从中断处继续。
-   任务成功结束后，进度文件会被自动删除。

你可以使用 `--progress-file` 参数指定自定义的进度文件路径。

## 对抗级别 (Aggression Levels)

为了模拟不同的攻击者行为并规避WAF/IPS的检测，WebLoginBrute内置了四个预设的对抗级别。

-   **`A0` (静默)**: 最高速模式，几乎没有延迟。适合在没有防护的测试环境中快速验证。
-   **`A1` (标准)**: **默认级别**。引入了较短的随机延迟，能规避一些基础的频率限制。
-   **`A2` (激进)**: 更长的延迟和更大的随机性（抖动）。旨在模拟更耐心的攻击者行为。
-   **`A3` (极限)**: 非常长的延迟。用于对抗具有严格访问控制和行为分析能力的高安全目标。

### 如何设置

-   **通过命令行**: `--aggression-level A2`
-   **通过YAML文件**: `aggression_level: "A2"`

## 测试模式 (`--dry-run`)

在正式发起攻击前，验证所有配置是否正确、字典文件是否可读、目标URL是否可达是非常重要的。测试模式（Dry Run）可以帮助你完成这些检查，而不会发送任何实际的登录尝试请求。

### 如何使用

-   **通过命令行**: 添加 `--dry-run` 标志。
    ```bash
    python -m webloginbrute --config-file my_task.yaml --dry-run
    ```
-   **通过YAML文件**: 设置 `dry_run: true`。

程序会执行包括加载配置、读取字典、获取初始登录页面（及CSRF Token）在内的所有准备步骤，然后打印一条消息表明测试成功，最后退出。

## 详细日志 (`--verbose`)

当你需要排查问题或深入了解程序的每一个步骤时，可以启用详细日志模式。

### 如何使用

-   **通过命令行**: 添加 `--verbose` 标志。
-   **通过YAML文件**: 设置 `verbose: true`。

启用后，控制台会输出 `DEBUG` 级别的日志，显示包括HTTP请求头、响应状态码、提取的Token等在内的详细信息。同时，`logs/` 目录下的日志文件也会记录这些信息。 